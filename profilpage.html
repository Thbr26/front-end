<html>
<head>
    <title>Profile Page</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=account_circle" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script>
     function previewFile(event) {
            const input = document.getElementById('fileInput');
            const image = document.getElementById('selectedImage');
            const plusIcon = document.getElementById('plusIcon');
            const tambahText = document.getElementById('tambah');
            document.getElementById('edit-button').innerText = 'Simpan';

            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    image.src = e.target.result;
                    image.style.display = 'block';
                    plusIcon.style.display = 'none';
                    tambahText.style.display = 'none';
                }
                reader.readAsDataURL(input.files[0]);
            }
        }

        function setProfilePicture() {
            const input = document.getElementById('fileInput');
            const profilePicture = document.getElementById('profilePicture');
            const selectedImage = document.getElementById('selectedImage');
            if (input.files && input.files[0]) {
                profilePicture.src = selectedImage.src;
                profilePicture.onload = function() {
                    URL.revokeObjectURL(profilePicture.src); // free memory
                }
                document.getElementById('modalProfilePicture').src = selectedImage.src;
            }
            const nameInput = document.getElementById('name').value;
            document.getElementById('profile-name').innerText = nameInput;
        }

        function changeButtonText() {
            document.getElementById('edit-button').innerText = 'Simpan';
        }

        function toggleTitle(){
            const image = document.getElementById('selectedImage');
            const plusIcon = document.getElementById('plusIcon');
            const tambahText = document.getElementById('tambah');
            image.style.display = 'none';
            plusIcon.style.display = 'block';
            tambahText.style.display = 'block';
            document.getElementById('edit-button').textContent = 'Edit Profil';
        }

        function openModal() {
            document.getElementById('myModal').style.display = "flex";
        }

        function closeModal() {
            document.getElementById('myModal').style.display = "none";
        }

        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('photobox').addEventListener('click', function() {
                document.getElementById('fileInput').click();
            });

            document.getElementById('fileInput').addEventListener('change', function(event) {
                previewFile(event);
            });

            document.getElementById('edit-button').addEventListener('click', function() {
                const input = document.getElementById('fileInput');
                const selectedImage = document.getElementById('selectedImage');
                if (selectedImage.src && selectedImage.style.display !== 'none') {
                    setProfilePicture();
                }
                const nameInput = document.getElementById('name').value;
                document.getElementById('profile-name').innerText = nameInput;
            });

            document.querySelector('.close-btnx').addEventListener('click', function() {
                toggleTitle();
            });

            document.getElementById('profilePicture').addEventListener('click', function() {
                openModal();
            });

            document.querySelector('.close').addEventListener('click', function() {
                closeModal();
            });

            window.addEventListener('click', function(event) {
                if (event.target == document.getElementById('myModal')) {
                    closeModal();
                }
            });
        });
     </script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
    <div class="navbar">
        <div class="logo">
         <img alt="AGRIGO logo" src="img/Logo Massive_20241101_200750_0000.png">
         <span>
          AGRIGO
         </span>
        </div>
        <div class="menu">
         <a href="index.html">
          Beranda
         </a>
         <div class="dropdown">
          <a href="#">
           Layanan
           <i class="fas fa-caret-down">
           </i>
          </a>
          <div class="dropdown-content">
            <a href="advertising.html">
              Advertising
             </a>
             <a href="panduan">
              Panduan Alat
             </a>
             <a href= "komunitas.html">
              Komunitas
             </a>
          </div>
         </div>
         <a href="produkkami.html">
          Produk
         </a>
         <div class="dropdown">
          <a href="#">
           Tentang Kami
           <i class="fas fa-caret-down">
           </i>
          </a>
          <div class="dropdown-content">
            <a href="profil kami.html">
              Profil Kami
             </a>
             <a href="panduanpengguna.html">
              Panduan Pengguna
             </a>
          </div>
         </div>
         <div class="dropdown">
          <a href="#">
           Pusat Bantuan
           <i class="fas fa-caret-down">
           </i>
          </a>
          <div class="dropdown-content">
            <a href="faq.html">
              FAQ
             </a>
             <a href="hubungikami.html">
              Hubungi Kami
             </a>
          </div>
         </div>
        </div>
        <a class="material-symbols-outlined" href="profilpage.html">
            account_circle
            </a>
       </div>
    </div>
    <div class="containerx">
        <div class="sidebarx">
            <div class="profilex">
             <img alt="Profile Picture" id="profilePicture" height="50" src="" width="50"/>
             <div>
              <div id="profile-name" class="namex">
               Fredy
              </div>
              <a href="profilpage.html">
                Ubah Profil
               </a>
             </div>
            </div>
            <a href="mulaiiklan.html" class="ad-buttonx">
             <button>
              Mulai Iklan
             </button>
            </a>
            <div class="dividerx">
            </div>
            <ul class="menux">
             <li>
              <a href="pengaturanakun.html">
               Pengaturan Akun
              </a>
             </li>
             <li>
              <a href="notif.html">
               Notifikasi
              </a>
             </li>
             <li>
              <a href="pusat.html">
               Pusat Bantuan
              </a>
             </li>
            </ul>
           </div>
           <div class="contentx">
            <div class="main-contentx">
             <div class="headerx">
              <h2 id="profil">
               Profil
               <div class="close-icon" id="close" ></div>
              </h2>
              <i class="fas fa-times close-btnx" onclick="toggleTitle()">
              </i>
             </div>
             <hr>
             <div class="form-containerx">
                <div>
                    <label for="name">Nama</label>
                    <input id="name" type="text" value="Fredy" oninput="changeButtonText()"/>
                    
                    <label for="phone">No. Handphone</label>
                    <input id="phone" type="text" value="+628798654345" oninput="changeButtonText()"/>
                    
                    <label for="email">Email</label>
                    <input id="email" type="email" value="freddy@gmail.com" oninput="changeButtonText()"/>
                    
                    <button id="edit-button" 
                    >Edit Profil
                </button>
                </div>
                    <div class="photo-boxx" id="photobox">
                        <img alt="Selected Profile Picture" id="selectedImage"/>
                    <i class="fas fa-plus" id="plusIcon"></i>
                    <span id="tambah">Tambahkan Foto</span>
                    <input id="fileInput" type="file" accept="image/*" onchange="previewFile(event)" style="display: none;"/>
                    </div>
            </div>
           </div>
    </div>
    </div>
    <div class="footer">
        <div>
            <h3>AgriGo</h3>
            <p>Platform iklan rental alat pertanian yang mendukung petani Indonesia dengan akses mudah ke peralatan agrikultur modern. Sewa alat dengan fleksibel, kapan saja sesuai kebutuhan Anda.</p>
        </div>
        <div>
            <h3>Tentang Kami</h3>
            <p><a href="profil kami.html">Profil Kami</a></p>
            <p><a href="panduanpengguna.html">Panduan Pengguna</a></p>
        </div>
        <div>
            <h3>Layanan</h3>
            <p><a href="advertising.html">Advertising</a></p>
            <p><a href="panduanalat.html">Panduan Alat</a></p>
            <p><a href="komunitas.html">Komunitas</a></p>
        </div>
        <div>
            <h3>Pusat Bantuan</h3>
            <p><a href="#">Hubungi Kami</a></p>
            <p><a href="#">FAQ</a></p>
            <div class="social-icons">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-ùïè twitter">ùïè</i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
            </div>
        </div>
      </div>
      <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <img alt="Profile Picture" id="modalProfilePicture" src="https://storage.googleapis.com/a1aa/image/aEqAB9ADBD6CAB4s8DMID9XPIQ8XV4uDhQ46VmQ39ZuN1OeJA.jpg" style="width: 100%; height: auto;">
        </div>
    </div>
</body>
</html>